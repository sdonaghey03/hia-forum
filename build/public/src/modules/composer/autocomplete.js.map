{"version":3,"sources":["node_modules/nodebb-plugin-composer-default/static/lib/composer/autocomplete.js"],"names":["define","preview","autocomplete","init","postContainer","element","find","data","strategies","options","zIndex","listPosition","position","top","$","window","scrollTop","this","$el","css","_applyPlacement","trigger","textcomplete","on","render"],"mappings":"AAAA,aAIAA,OAAO,yBAA0B,oBAAqB,SAASC,GAE9D,IAAIC,KAEJA,EAAaC,KAAO,SAASC,GAC5B,IAAIC,EAAUD,EAAcE,KAAK,UACjC,IAAIC,GACHF,QAASA,EACTG,cACAC,SACCC,OAAQ,IACRC,aAAc,SAASC,GAEtBA,EAASC,KAAOC,EAAEC,QAAQC,YAE1BC,KAAKC,IAAIC,IAAIF,KAAKG,gBAAgBR,IAClCK,KAAKC,IAAIC,IAAI,WAAY,SACzB,OAAOF,QAKVH,EAAEC,QAAQM,QAAQ,6BAA8Bd,GAChDA,EAAKF,QAAQiB,aAAaf,EAAKC,WAAYD,EAAKE,SAChDK,EAAE,yBAAyBK,IAAI,SAAU,QAAQb,KAAK,YAAYa,IAAI,SAAU,QAEhFZ,EAAKF,QAAQkB,GAAG,sBAAuB,WACtCtB,EAAQuB,OAAOpB,MAIjB,OAAOF","file":"node_modules/nodebb-plugin-composer-default/static/lib/composer/autocomplete.js","sourcesContent":["'use strict';\n\n/* globals define */\n\ndefine('composer/autocomplete', ['composer/preview'], function(preview) {\n\n\tvar autocomplete = {};\n\n\tautocomplete.init = function(postContainer) {\n\t\tvar element = postContainer.find('.write');\n\t\tvar data = {\n\t\t\telement: element,\n\t\t\tstrategies: [],\n\t\t\toptions: {\n\t\t\t\tzIndex: 20000,\n\t\t\t\tlistPosition: function(position) {\n\t\t\t\t\t// Adjust calculated position based on window scrollTop value\n\t\t\t\t\tposition.top -= $(window).scrollTop();\n\n\t\t\t\t\tthis.$el.css(this._applyPlacement(position));\n\t\t\t\t\tthis.$el.css('position', 'fixed');\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t$(window).trigger('composer:autocomplete:init', data);\n\t\tdata.element.textcomplete(data.strategies, data.options);\n\t\t$('.textcomplete-wrapper').css('height', '100%').find('textarea').css('height', '100%');\n\n\t\tdata.element.on('textComplete:select', function() {\n\t\t\tpreview.render(postContainer);\n\t\t});\n\t};\n\n\treturn autocomplete;\n});\n"]}